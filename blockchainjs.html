<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
    <meta name="google-site-verification" content="VXixwtxrf--qUV1swfStEg9jOGPKgUm6C3Ub_vouqmc" />
    <title>MecBar | The Mec Evolution </title>
    <link rel="icon" href="foto/favicon.ico"/>
    <!-- CSS  -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
   -->
    <script src="js/jquery-3.1.1.min.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection" />
    <link href="https://fonts.googleapis.com/css?family=Raleway|Satisfy" rel="stylesheet">
    <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection" />
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script> 
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> -->

    <meta property="og:url" content="https://www.mecbar.com" />
    <meta property="og:title" content="MecBar the webt for you" />
    <meta property="og:image" content="https://www.mecbar.com/mecface.jpg" />
    <meta property="og:description" content="MecBar for you" />


</head>

<body>
    
    <nav>
        <li class="nav-wrapper back-home" id="head">
            <a href="http://www.mecbar.com/" class="aabrand-logo mecbar">
                <?xml version="1.0" encoding="UTF-8" standalone="no"?>
                <svg
                   xmlns:osb="http://www.openswatchbook.org/uri/2009/osb"
                   xmlns:dc="http://purl.org/dc/elements/1.1/"
                   xmlns:cc="http://creativecommons.org/ns#"
                   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
                   xmlns:svg="http://www.w3.org/2000/svg"
                   xmlns="http://www.w3.org/2000/svg"
                   xmlns:xlink="http://www.w3.org/1999/xlink"
                   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
                   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
                   width="156"
                   height="64"
                   viewBox="0 0 12.3825 5.08"
                   version="1.1"
                   id="svg8"
                   inkscape:version="1.0 (6e3e5246a0, 2020-05-07)"
                   sodipodi:docname="mecbar.svg">
                  <defs
                     id="defs2">
                    <linearGradient
                       osb:paint="solid"
                       id="linearGradient2948">
                      <stop
                         id="stop2946"
                         offset="0"
                         style="stop-color:#c6126a;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       osb:paint="solid"
                       id="linearGradient875">
                      <stop
                         id="stop873"
                         offset="0"
                         style="stop-color:#babd06;stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient3253"
                       osb:paint="solid">
                      <stop
                         style="stop-color:#878734;stop-opacity:1;"
                         offset="0"
                         id="stop3251" />
                    </linearGradient>
                    <linearGradient
                       inkscape:collect="always"
                       id="linearGradient3093">
                      <stop
                         style="stop-color:#c6126a;stop-opacity:1;"
                         offset="0"
                         id="stop3089" />
                      <stop
                         style="stop-color:#c6126a;stop-opacity:0;"
                         offset="1"
                         id="stop3091" />
                    </linearGradient>
                    <linearGradient
                       id="linearGradient3071"
                       osb:paint="solid">
                      <stop
                         style="stop-color:#c6126a;stop-opacity:1;"
                         offset="0"
                         id="stop3069" />
                    </linearGradient>
                    <rect
                       x="38.182308"
                       y="80.104469"
                       width="51.135052"
                       height="30.274338"
                       id="rect18630" />
                    <rect
                       x="160.31746"
                       y="77.487633"
                       width="134.35785"
                       height="60.829021"
                       id="rect18624" />
                    <rect
                       x="70.354279"
                       y="28.223705"
                       width="103.27115"
                       height="64.638908"
                       id="rect18618" />
                    <rect
                       x="32.55666"
                       y="25.199898"
                       width="5.2916665"
                       height="43.089287"
                       id="rect18612" />
                    <rect
                       x="34.029621"
                       y="65.792862"
                       width="93.441322"
                       height="26.673161"
                       id="rect18606" />
                    <rect
                       x="10.284417"
                       y="19.486744"
                       width="193.27823"
                       height="129.88597"
                       id="rect18596" />
                    <linearGradient
                       inkscape:collect="always"
                       xlink:href="#linearGradient3093"
                       id="linearGradient3101"
                       gradientUnits="userSpaceOnUse"
                       x1="3.1346149"
                       y1="23.792595"
                       x2="78.606865"
                       y2="23.792595" />
                    <filter
                       height="1"
                       y="-2.5183475e-16"
                       width="1"
                       x="-7.1910066e-17"
                       style="color-interpolation-filters:sRGB"
                       inkscape:label="Blend"
                       id="filter3198">
                      <feBlend
                         in2="SourceGraphic"
                         mode="multiply"
                         result="fbSourceGraphic"
                         id="feBlend3196" />
                      <feColorMatrix
                         result="fbSourceGraphicAlpha"
                         in="fbSourceGraphic"
                         values="0 0 0 -1 0 0 0 0 -1 0 0 0 0 -1 0 0 0 0 1 0"
                         id="feColorMatrix3200" />
                      <feBlend
                         in2="fbSourceGraphic"
                         id="feBlend3202"
                         mode="multiply"
                         result="blend"
                         in="fbSourceGraphic" />
                      <feGaussianBlur
                         id="feGaussianBlur869"
                         stdDeviation="6.7542215e-15" />
                    </filter>
                    <linearGradient
                       gradientUnits="userSpaceOnUse"
                       y2="9.1505461"
                       x2="228.5569"
                       y1="9.1505461"
                       x1="3.1346149"
                       id="linearGradient2950"
                       xlink:href="#linearGradient2948"
                       inkscape:collect="always" />
                    <linearGradient
                       y2="9.1505461"
                       x2="228.5569"
                       y1="9.1505461"
                       x1="3.1346149"
                       gradientTransform="translate(2.3455617,-9.683066)"
                       gradientUnits="userSpaceOnUse"
                       id="linearGradient3064"
                       xlink:href="#linearGradient2948"
                       inkscape:collect="always" />
                  </defs>
                  <sodipodi:namedview
                     id="base"
                     pagecolor="#ffffff"
                     bordercolor="#666666"
                     borderopacity="1.0"
                     inkscape:pageopacity="0.0"
                     inkscape:pageshadow="2"
                     inkscape:zoom="0.7"
                     inkscape:cx="355.19772"
                     inkscape:cy="45.714286"
                     inkscape:document-units="mm"
                     inkscape:current-layer="layer1-6"
                     inkscape:document-rotation="0"
                     showgrid="false"
                     inkscape:window-width="1324"
                     inkscape:window-height="747"
                     inkscape:window-x="36"
                     inkscape:window-y="21"
                     inkscape:window-maximized="1"
                     units="px"
                     inkscape:snap-nodes="true"
                     inkscape:object-paths="true"
                     scale-x="0.3" />
                  <metadata
                     id="metadata5">
                    <rdf:RDF>
                      <cc:Work
                         rdf:about="">
                        <dc:format>image/svg+xml</dc:format>
                        <dc:type
                           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
                        <dc:title></dc:title>
                      </cc:Work>
                    </rdf:RDF>
                  </metadata>
                  <g
                     inkscape:label="Layer 1"
                     inkscape:groupmode="layer"
                     class="io"
                     id="layer1">
                    <rect
                       ry="7.1295023"
                       rx="10.726023"
                       y="-2.8428149"
                       x="-4.4855061"
                       height="21.245117"
                       width="20.103241"
                       id="rect2824"
                       style="opacity:0;fill:#c6126a;stroke:#babd06;stroke-width:0.0794996;stroke-opacity:0.00424254" />
                    <g
                       inkscape:label="Layer 1"
                       id="layer1-6"
                       transform="matrix(0.16152221,0.0020121,0,0.13626925,0.08059628,0.86541284)"
                       style="mix-blend-mode:normal;fill:url(#linearGradient2950);fill-opacity:1;stroke-width:6.74038;filter:url(#filter3198);image-rendering:optimizeQuality">
                      <text
                         xml:space="preserve"
                         id="text18594"
                         style="font-style:normal;font-weight:normal;font-size:10.5833px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;white-space:pre;shape-inside:url(#rect18596);fill:url(#linearGradient2950);fill-opacity:1;stroke:none;stroke-width:1.78339px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;" />
                      <text
                         xml:space="preserve"
                         style="font-style:oblique;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:25.0978px;line-height:125%;font-family:Purisa;-inkscape-font-specification:'Purisa, Oblique';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;letter-spacing:0px;word-spacing:0px;fill:url(#linearGradient3064);fill-opacity:1;stroke:none;stroke-width:1.78339px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                         x="-4.0898471"
                         y="24.876211"
                         id="text18602"
                         transform="matrix(0.75566848,-0.20637119,0.34609071,1.2288151,0,0)"><tspan
                   sodipodi:role="line"
                   id="tspan18600"
                   x="-4.0898471"
                   y="24.876211"
                   style="font-style:oblique;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:25.0978px;font-family:Purisa;-inkscape-font-specification:'Purisa, Oblique';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;fill:url(#linearGradient3064);fill-opacity:1;stroke-width:1.78339px">MecBar</tspan>        <animate
                   style="fill-opacity:1;fill:url(#linearGradient3064)"
                   begin="0s;light_2.end"
                   dur="1s"
                   values="1;0"
                   attributeName="fill-opacity"
                   id="light_1" />       <animate
                   style="fill-opacity:1;fill:url(#linearGradient3064)"
                   begin="light_1.end"
                   dur="1s"
                   values="0;1"
                   attributeName="fill-opacity"
                   id="light_2" />           </text>
                      <text
                         xml:space="preserve"
                         id="text18604"
                         style="font-style:normal;font-weight:normal;font-size:10.5833px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;white-space:pre;shape-inside:url(#rect18606);fill:url(#linearGradient2950);fill-opacity:1;stroke:none;stroke-width:1.78339px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;" />
                      <text
                         xml:space="preserve"
                         id="text18610"
                         style="font-style:normal;font-weight:normal;font-size:10.5833px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;white-space:pre;shape-inside:url(#rect18612);fill:url(#linearGradient2950);fill-opacity:1;stroke:none;stroke-width:1.78339px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;" />
                      <text
                         xml:space="preserve"
                         id="text18616"
                         style="font-style:normal;font-weight:normal;font-size:10.5833px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;white-space:pre;shape-inside:url(#rect18618);fill:url(#linearGradient2950);fill-opacity:1;stroke:none;stroke-width:1.78339px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;" />
                      <text
                         xml:space="preserve"
                         id="text18622"
                         style="font-style:normal;font-weight:normal;font-size:10.5833px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;white-space:pre;shape-inside:url(#rect18624);fill:url(#linearGradient2950);fill-opacity:1;stroke:none;stroke-width:1.78339px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;" />
                      <text
                         xml:space="preserve"
                         id="text18628"
                         style="font-style:normal;font-weight:normal;font-size:12.7px;line-height:125%;font-family:sans-serif;text-align:justify;letter-spacing:0px;word-spacing:0px;white-space:pre;shape-inside:url(#rect18630);fill:url(#linearGradient2950);fill-opacity:1;stroke:none;stroke-width:1.78339px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;" />
                      <animate
                         style="fill-opacity:1;fill:url(#linearGradient2950)"
                         begin="0s;light_2.end"
                         dur="1s"
                         values="1;0"
                         attributeName="fill-opacity"
                         id="light_1" />
                      <animate
                         style="fill-opacity:1;fill:url(#linearGradient2950)"
                         begin="light_1.end"
                         dur="1s"
                         values="0;1"
                         attributeName="fill-opacity"
                         id="light_2" />
                    </g>
                    <rect
                       ry="7.1295042"
                       rx="10.726021"
                       y="-2.8428149"
                       x="-4.4855061"
                       height="16.413473"
                       width="25.987757"
                       id="rect871"
                       style="opacity:0;fill:#c6126a;stroke:#babd06;stroke-width:0.0794996;stroke-opacity:0.00424254" />
                  </g>
                  <style
                     id="style43">
                           #tspan18600 {
                               
                              animation-name: mecOpacity;
                              animation-duration: 2s;
                              animation-iteration-count: infinite;
                              }
                              @keyframes mecOpacity {
                              0%   { fill-opacity:1 }
                                50%  {fill-opacity :0.1; }
                            100% { fill-opacity: 1; }
                              }
                        </style>
                </svg>
             
              </a>
            <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>

            <ul class="right hide-on-med-and-down">
              <li><a href="http://www.mecbar.com/#block3">Blockchain</a></li>
                <li><a href="http://www.mecbar.com/#quantum">Quantum</a></li>
                <li><a href="http://www.mecbar.com/#ml">Machine Learning</a></li>
                <li><a href="http://www.mecbar.com/#Ablog">Blog</a></li>
                <li><a href="http://www.mecbar.com/#Adev">Develop</a></li>
                <li><a href="http://www.mecbar.com/#Alinux">Linux</a></li>
                <li><a href="http://www.mecbar.com/#Aus">Contatti</a></li>
                <li>
                    <a href=""> </a>
                </li>
                <li>
                    <a href=""> </a>
                </li>
            </ul>
            <ul class="side-nav" id="mobile-demo">
                <li><a href="#block3">Blockchain</a></li>
                <li><a href="#quantum">Quantum</a></li>
                <li><a href="#ml">Machine Learning</a></li>
                <li><a href="#Ablog">Blog</a></li> 
                <li>  <a href="#Adev">Develop</a></li>
                <li><a href="#Alinux">Linux</a></li>
                <li><a href="#Aus">Contatti</a></li>
            </ul>
            </li>
    </nav>
<style>
    @import url('https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900');

body {
   font-size: 23px;
   font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;

}

.titolo:hover {
 color:#f13000;
}

.elenco {
   display:flex;
   color : #fff;
   width: 100% ;
  align-items: center;
  justify-content:center;
} 
.elenco div {
   width: auto ;
 height: auto ;
 border : 2px solid #f18300;
 padding:5px;
 color: #fff;
background-color: rgb(38, 0, 255);
 margin:10px;
}
.elenco div:hover {
 color: rgb(47, 0, 255);
 background-color:#fff;
}
.elenco div a {
   color:rgb(0, 0, 0);
}
.boxex {
    color:#fff;
    background-color: #000;
    font-size: 25px;
    border-bottom-right-radius: 250px;
    margin: 50px;
    padding:5%;
    box-shadow: 5px 7px rgb(255, 81, 0), -1em 0 .4em rgb(40, 51, 218);
     }
</style>
<div class="titolo">
  PILLOLE DI BLOCKCHAIN  -- JAVASCRIPT 
</div>

<div class="elenco">
   <div><a href="#connessione">Connessione</a></div>
   <div><a href="#listening">Listening</a></div>
   <div><a href="#peer">Peer</a></div>
    <div><a href="#sincro">Syncro</a></div>
    <div><a href="#blocco">getNumber</a></div>

    <div><a href="#mining">Mining</a></div>
    <div><a href="#account">Accounts</a></div>

     <div><a href="#balance"> Balance</a> </div>
      <div> <a href="#sblocco"> Unlock Account </a></div>
</div>
<div class="elenco">
  <div> <a href="#compile"> Compile </a> </div>
     <div> <a href="#infoT"> Info Transaction </a></div>
 <div> <a href="#deploy">  Deploy Contract</a></div>
 <div><a href="#sm"> Invoke Smart Contract </a></div>
   <div> <a href="#node">NodeJs </a> </div>
</div>

<div class="tot">
Per comunicare con la blockchain tramite Javascript usiamo il modulo web3js che può essere richiamato da 
NodeJS se abbiamo una applicazione server o tramite MetaMask se ci vogliamo connettere senza server tramite il 
browser.<br> 
<br> 
MetaMask è una extention che si può applicare ai diversi Browser Come Firefox o Chrome <br> 
<br> 
Il modulo web3js ci fornisce i seguenti sottosistemi:<br> 

<i><b> eth</i> </b> per inteagire con la ethereum blockchain <br> 
<i><b> net</i> </b>  per interagire con i node network <br> 
<i><b> personal</i> </b> per interagire con gli accounts e send the transaction <br> 
<i><b> db</i> </b> per fare la get/put dei dati sul local db <br> 
<i><b> shh</i> </b>  per p2p messagging con Whisper <br> 
<br> 
Nelle function possiamo sempre inserire il callback oppure la <i><b> Promise</i> </b> cioè il metodo .then che 
effettua la promise cioè l'impegno ad eseguire il codice inserito nella promise quando la transazione è termianta  <br>
Nell'esempio sottostante creiamo un nuovo account con la password inserita e quando l'operazione è terminata si esegue il codice inserito nella 
.then che in questo esempio è di inserire nella console l'esito della operazione<br> <br>  
web3.eth.personal.newAccount(password)<br> 
.then(console.log);<br> <br> <br> 

<span id="connessione">CONNESSIONE </span><br> <br> 
Vediamo come connettere tramite Javascript la nostra applicazione alla blockchain <br> 

Possiamo optare per una function sincrona o asincrona (callback)<br> 
</div>
<div class="boxex">
var web3 = new Web3(Web3.givenProvider || "ws://localhost:8545");<br> <br> 

window.addEventListener('load', function() {<br> 
    if (typeof web3 !== 'undefined' ) {<br> 
        window.web3 = new Web3(web3.currentProvider);<br> 
    } else {<br> 
        console.log('web3 not found')<br> 
        var provider = document.getElementById('provider1').value;<br> 
        window.web3 = new Web3(new Web3.providers.HttpProvider(provider));<br> 

    }<br> 
    }<br> 
</div>
<div class="tot">
Vediamo ora una lista di operazioni che si possono utilizzare con il relativo risultato atteso.

Per vericare se siamo connessi alla blockchain 
</div>
<div class="boxex">
if (web3 && web3.isConnected()) {     }<br> 
</div>
<div id="listening" class="tot">
Comando per verificare se siamo in ascolto nella porta assegnata
</div>
<div class="boxex">
web3.net.getlistening(function(error, result) {<br> 
    <br> 
})<br> 
</div>
<div id="peer" class="tot">

Per ottenere numero dei peer connessi
</div>
<div class="boxex">
web3.net.getPeerCount()<br> 
</div>
<div id="sincro" class="tot">
Verificare se il nostro nodo è sincronizzato
</div>
<div class="boxex">
web3.isSyncing()<br> 
</div>
<div id="blocco" class="tot">
Ottenere numero blocco corrente  
</div>
<div class="boxex">
web3.eth.getBlockNumber([callback])<br>
</div>
<div id="mining" class="tot">
Verificare se si sta minando nuovi blocchi
</div>
<div class="boxex">
web3.mining/getMining 
</div>
<div id="account" class="tot">

Ottenere gli accounts operativi nella chain
</div>
<div class="boxex">
web3.eth.accounts <br> <br> 

web3.eth.personal.getAccounts([callback])<br> 

</div>
<div class="tot">
Creare un nuovo account 
</div>
<div class="boxex">
web3.eth.personal.newAccount(password, [callback])<br> 
</div>

<div id="balance" class="tot">
Ottenere il credito di un determinato account
</div>
<div class="boxex">
web3.eth.getBalance(account)<br> 
</div>
<div class="tot">
Ottenere il relativo valore in wei dato un importo in ether 
</div>
<div class="boxex">
web3.fromWei(valore, 'ether').toFixed(2);<br> 
</div>
<div id="sblocco" class="tot">
Sbloccare un account per eseguire delle transazioni
</div>
<div class="boxex">
web3.personal.unlockAccount(account, password, function(error, result) {<br> 
    <br> 
})<br> <br> 
web3.eth.personal.unlockAccount(address, password, unlockDuraction [, callback])<br> 
</div>
<div class="tot">

Creare un oggetto per eseguire ad esempio una transazione 
</div>
<div class="boxex">
var obj = {}<br> 
obj.from = address<br> 
obj.to = address ricevente <br> 
var importo = ether <br> 
obj.value = web3.towei(importo, 'ether')<br> 
var obj.data = web3.toHex(data)  // per inserire extradata into transaction  <br>  <br>  <br> 
possiamo inserire anche il gas e se vogliamo rieseguire una operazione per fare l'update 
dobbiamo inserire nell'oggetto anche nonce : numero nonce della vecchia transazione ancora non minata 
altrimenti non è possile modificare l'operazione.<br> <br> 

web3.eth.sendTransaction(transactionObject [, callback])<br> 
l'operazione ritorna l'hash della transazione e se mettiamo il callback possiamo verificare l' esito
<br> 
</div>
<div id="compile" class="tot">
Comando per compilare uno smart contract in Solidity  
</div>
<div class="boxex">
web3.eth.compile.solidity(source_program, function() {<br> 
    <br> 
})<br> 
Il risultato è il codice abi e bin <br> 

Una volta compilato possiamo procedere ad inserire il codice nella Blockchain <br>  <br> 
var contract = web3.eth.contract(abi)<br> 

Poi creare una istanza del contract che va inserita nella chain, questa operazione richiede una fee 
ma ricordarsi che si può richiamare l'istanza solo dopo che il blocco dove viene inserita sia stato minato  <br>  <br> 
var istanzaContratto = contract.new(from:account, data: bin, gas:gas ) si può inserire <br> 
callback  (result = transaction hash )<br> 
<br> 
</div>
<div id="infoT" class="tot">

Ottenere info su di una transazione di cui si possiede il codice hash 
</div>
<div class="boxex">
web3.eth.getTransactioReceipt(transactionHash, function(error, result) {<br> 

}) <br> 
Risultato è l'address della operazione <br> 
<br> 
</div>
<div id="deploy" class="tot">

DEPLOY contract con transaction <br> 
</div>
<div class="boxex">
var ins = contract.new.getData(param, {data: bytecode(bin)})
</div>
<div id="sm" class="tot">
Una volta che il contract è stato minato può essere invocato per eseguire un metodo. Si può procedre 
tramite la function Call o sendTransaction. 
Di seguito illustriamo le differenze tra i 2 metodi.

<br> 
CALL <br> 
Per invocare un metodo inserito in un smart contract usare l'istanza creata quando inserito il contract 
</div>
<div class="boxex">
contractInstance.nome_method_dello_smart_contract.call()<br> 
</div>
<div class="tot">
la Call viene eseguita nel nodo locale, il risultato è il risultato della funzione, nulla viene modificato 
nel conntract e non si pagano fee <br> 

SENDTRANSACTION <br> 
<br> 
Per invocare il metodo tramite una sendTRansaction il comado è il seguente

</div>
<div class="boxex">
contractInstance.method.sendTransaction()

</div>
<div class="tot">
Questa operazione viene eseguita nel node del minatore ci ritorna la transaction hash e apporta una change state nel contract
necessita di gas quindi c'è una fee da pagare al minatore<br> 
 
</div>
<div class="boxex">
ESEMPIO CALL<br><br>

var ABIdefinition = JSON.parse(abistring);<br> 
var contract = web3.eth.contract(ABIdefinition)<br> 
var istanza = contract.at(addtess)<br> 
var risultato = istanza.metthods.call(paramtri)  //mettere nome metodo al posto di methods<br> 

ESEMPIO SENDTRANSACTION<br><br>

var obj= {<br> 
    from: address;<br> 
    gas:  gasStimato <br> 
}<br> 
<br> 
istanza.methods.sendTransaction(eventuale parametro, obj, function(error,result) {} )<br> 


<br> 
web3.eth.sendTransaction({from: '0x123...', data: '0x432...'})<br> 
.on('sending', function(payload){ ... })<br> 
.on('sent', function(payload){ ... })<br> 
.on('transactionHash', function(hash){ ... })<br> 
.on('receipt', function(receipt){ ... })<br> 
.on('confirmation', function(confNumber, receipt, latestBlockHash){ ... })<br> 
.on('error', function(error){ ... })<br> 
.then(function(receipt){<br> 
    // will be fired once the receipt is mined<br> 
});<br> 
<br> 

</div>
<div id="node" class="tot">

Vediamo come con NodeJs possiamo creare una connessione con web3js alla blockchain 


</div>
<div class="boxex">
var Eth = require('web3-eth');<br> 
<br> 
var eth = new Eth(Eth.givenProvider || 'ws://some.local-or-remote.node:8546');<br> 

oppure <br> 

var Web3 = require('web3');<br> 
var web3 = new Web3(Web3.givenProvider || 'ws://some.local-or-remote.node:8546');<br> 

</div>






</body>

</html>
